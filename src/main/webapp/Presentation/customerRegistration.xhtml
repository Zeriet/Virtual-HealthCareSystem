<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>#{customerBean.msgs.title}</title>
            </f:facet>
        </h:head>

        <h:body>

            <ui:composition template="/templates/masterLayout_date.xhtml">
                <ui:define name="windowTitle">
                  #{customerBean.msgs.title}
                </ui:define>

                <ui:define name="heading">
                    <ui:include src="/sections/public/header.xhtml"/>
                </ui:define>
                <ui:define name="topmenu">
                    <ui:include src="/sections/public/mainMenu.xhtml"/>
                </ui:define>
                <ui:define name="sidebarLeft">
                    <ui:include src="/sections/LoggedIn/StaffLeftsidebar.xhtml"/>
                </ui:define>

                <ui:define name="content">
                   
                    <h:form>
                        <p:fieldset legend="Customer Registration" widgetVar="regWidget">
                            <h:panelGrid columns="3" width="800" border="0">

                               

                                <h:outputLabel value="First Name" />
                                <p:inputText value="#{customerBean.customer.firstName}"
                                             id="firstName"
                                             required="true" 
                                             requiredMessage="FirstName is required"
                                             validatorMessage="FirstName should be of length from 5 to 15 chars"
                                             >
                                    <f:validateLength minimum="2" maximum="25" for="firstName"></f:validateLength>
                                </p:inputText>
                                <p:message for="firstName" />

                                <h:outputLabel value="Last Name" />
                                <p:inputText value="#{customerBean.customer.lastName}"
                                             id="lastName"></p:inputText>
                                <p:message for="lastName" />


                                <p:outputLabel for="birthdate" value="Date of Birth" />
                                <p:calendar id="birthdate" value="#{customerBean.customer.birthdate}"
                                            locale="de" 
                                            navigator="true" 
                                            yearRange="c-100:c-16"
                                            validatorMessage="Year shpule be in MM/dd/yyyy format"
                                            pattern="MM/dd/yyyy"  >
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                    
                                </p:calendar> 
                                <p:message for="birthdate" />



                                <h:outputLabel value="Gender" />
                                <h:selectOneRadio id="gender" 
                                                  value="#{customerBean.customer.gender}" >
                                    <f:selectItem itemValue="M" itemLabel="M" />
                                    <f:selectItem itemValue="F" itemLabel="F" />
                                </h:selectOneRadio>
                                <p:message for="gender" />


                                <h:outputLabel value="Street" />
                                <p:inputText value="#{customerBean.customer.street}"
                                             id="street"
                                             required="true" 
                                             requiredMessage="Street is required"
                                             >
                              </p:inputText>
                                <p:message for="street" />

                                <h:outputLabel value="Zip Code" />
                                <p:inputText value="#{customerBean.customer.zipCode}"
                                             id="zipCode"
                                             required="true" 
                                             requiredMessage="Zip code is required"
                                             validatorMessage="Zip code should be of length from _ to _ chars"
                                             >
                                    <f:validateLength minimum="2" maximum="15" for="zipCode"></f:validateLength>
                                </p:inputText>
                                <p:message for="zipCode" />



                                <h:outputLabel value="State" />
                                <p:inputText value="#{customerBean.customer.state}"
                                             id="state"
                                             required="true" 
                                             requiredMessage="state is required"
                                             validatorMessage="State should be of length 2 letters "
                                             >
                                    <f:validateLength minimum="2" maximum="2" for="state"></f:validateLength>
                                </p:inputText>
                                <p:message for="state" />


                                <h:outputLabel value="Email" />
                                <p:inputText value="#{customerBean.customer.email}"
                                             id="email"
                                             validatorMessage="Invalid Email">
                                    <f:validateRegex pattern="[a-zA-Z0-9]+@[a-zA-Z]+.[a-zA-Z]{2,3}"></f:validateRegex>   
                                </p:inputText>
                                <p:message for="email" />
                            </h:panelGrid>
                        

                            <h:panelGrid columns="3" width="550" border="0">

                                <h:outputLabel value="AccountType" />
                                <h:selectOneRadio id="accountType" 
                                                  value="#{customerBean.account.accountType}" >
                                    <f:selectItem itemValue="Checking" itemLabel="Checking" />
                                    <f:selectItem itemValue="Saving" itemLabel="Saving" />
                                </h:selectOneRadio>
                                <p:message for="accountType" />


                                <h:outputLabel value="cardNumber" />
                                <p:inputText value="#{customerBean.account.cardNumber}"
                                             id="cardNumber"
                                             required="true"                                             
                                             validatorMessage="CardNumber should be between 300 and 400"
                                             >
                                    <f:validateDoubleRange minimum="300" maximum="400" />
                                </p:inputText>
                                <p:message for="cardNumber" /> 


                                <h:outputLabel value="balance" />
                                <p:inputText value="#{customerBean.account.balance}"
                                             id="balance"
                                             required="true"                                             
                                             validatorMessage="Initial balance deposit should be between 100 and 5000 USD"
                                             >
                                    <f:validateDoubleRange minimum="100.00" maximum="5000.00" />
                                </p:inputText>
                                <p:message for="balance" />
                            </h:panelGrid>                         

                        </p:fieldset>
                        <p:commandButton value="Register" action="#{customerBean.register}" ajax="false"/>
                    </h:form>
                </ui:define>
                <ui:define name="footer">
                    <ui:include src="/sections/public/footer.xhtml"/>
                </ui:define>
            </ui:composition>




        </h:body>

    </f:view>
</html>


